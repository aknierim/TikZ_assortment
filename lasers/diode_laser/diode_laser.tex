\input{../../tikz-header.tex}

\xdefinecolor{copper}{rgb}{0.72, 0.45, 0.2}
\xdefinecolor{ruby}{rgb}{0.88, 0.07, 0.37}

\begin{document}
   \begin{tikzpicture}
    % laser, Rb cell, photodiodes
    \node [draw, thick] (laser) at (0,0) {Laser};
    \node [draw, thick] (rb_cell) at (4.7,0) {\ce{Rb} cell};
    \node [draw, thick] (pd_1) at (7,0) {PD 1};
    \node [draw, thick] (pd_2) at (3,-1) {PD 2};

    % beam path
    \draw [ruby, line width=2pt, opacity=0.5] (laser) -- (rb_cell);
    \draw [ruby, line width=2pt, opacity=0.5] (rb_cell) -- (pd_1);
    \draw [ruby, line width=2pt, opacity=0.5] (3,0) -- (pd_2);

    % helmholtz coils
    \draw [fill=copper] (3.7,-0.5) rectangle (3.8,0.5);
    \draw [fill=copper] (5.6,-0.5) rectangle (5.7,0.5);

    % beam splitter
    \draw [rotate around={135:(3,0)}, line width=1.25pt] (2.5,0) -- (3.5,0);

    % filters
    \draw [thick] (1.25,-0.5) rectangle (1.35,0.5);
    \draw [thick] (1.75,-0.5) rectangle (1.85,0.5);

    % annotations
    \node (coils) at ([xshift=0.6cm,yshift=1cm]rb_cell.north) {Helmholtz coils};
    \draw (coils.south) -- (3.75,0.5) (coils.south) -- (5.65,0.5);
    \node (filters) at (1.5,1.3) {Filters};
    \draw (filters.south) -- (1.3,0.5) (filters.south) -- (1.8,0.5);
    \node [align=center] (splitter) at (3,1.5) {Beam\\ splitter};
    \draw (splitter.south) -- (3,0);
  \end{tikzpicture}
\end{document}
